<style>
</style>
<?php echo $this->inlineFromFile('cast', 'cast', 'tree.css');  ?>
<?php
bdump($root);
function createList($parent, $level) {
    echo '<li>';
    echo '<character name="'. $parent['name'] .'" data-id="'. $parent['id'] .'">';
    echo '<p>';
    echo '<span>'.$parent['name'].'</span> ';
    echo '<span>'.$parent['surename'].'</span>';
    echo '</p>';
    echo '<br>';
    echo '<p>';
    echo '<span>Family: </span>';
    echo '<span data-id="'. $parent['family_id'] .'">'.$parent['family_name'].'</span>';
    echo '</p>';
    echo '</character>';
    if (count($parent['employ']) > 0) {
        echo '<ul>';
        foreach ($parent['employ'] as &$char) {
            createList($char, $level + 1);
        }
        echo '</ul>';
    }
    echo '</li>';
}
?>
<div class="tree">
    <ul>
        <?php createList($root, 0); ?>
    </ul>
</div>



<!--<div class="cast">-->
<!--    <h1>Besetztung</h1>-->
<!--    --><?php //foreach ($this->chars as $char): ?>
<!--        <div class="box big">-->
<!--            <a href="/--><?php //echo $char['id']; ?><!--">-->
<!--                --><?php //echo $this->CharProfile()->small($char);?>
<!--            </a>-->
<!--            <br>-->
<!--            <p>Tross</p>-->
<!--            <ul class="tross">-->
<!--                --><?php //foreach($chars as $char): ?>
<!--                    <li>-->
<!--                        <a href="/--><?php //echo $char['id']; ?><!--">-->
<!--                            <div class="box small">-->
<!--                                --><?php //echo $this->CharProfile()->small($char); ?>
<!--                            </div>-->
<!--                        </a>-->
<!--                    </li>-->
<!--                --><?php //endforeach; ?>
<!--            </ul>-->
<!--            <div style="clear: left"></div>-->
<!--        </div>-->
<!--    --><?php //endforeach ?>
<!---->
<!--</div>-->
